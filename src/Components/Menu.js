import React, {Component} from 'react';
import {Drawer, ListItemIcon, ListItemText, Toolbar} from "@material-ui/core";
import AppBar from "@material-ui/core/AppBar";
import Typography from "@material-ui/core/Typography";
import MenuIcon from "@material-ui/icons/Menu";
import HomeIcon from "@material-ui/icons/Home";
import AccountCircle from "@material-ui/icons/AccountCircle";
import IconButton from "@material-ui/core/IconButton";
import List from "@material-ui/core/List";
import ListItem from "@material-ui/core/ListItem";

class Menu extends Component {
  constructor(props) {
    super(props);
    this.state = {
      drawer: false,
      width: 0
    }
  }

  componentDidMount() {
    this._isMounted = true;
    if (this._isMounted) {
      this.setState({
        width: window.innerWidth
      })
    }
  }

  componentWillUnmount() {
    this._isMounted = false;
  }

  toggleDrawer = event => {
    let drawer = !this.state.drawer;
    this.setState({
      drawer
    })
  };

  render() {
    return (
      <div>
         <AppBar position={'static'} style={{backgroundColor: 'black'}}>
           <Toolbar>
             <IconButton href={''} onClick={this.toggleDrawer}>
               <MenuIcon style={{color: 'white'}}/>
             </IconButton>
             <Typography variant={'h6'} style={{cursor: 'pointer'}}
                         onClick={() => window.location.href = '/'}>
               Exploit Database
             </Typography>
           </Toolbar>
         </AppBar>
         <Drawer onClose={this.toggleDrawer} open={this.state.drawer}>
           <List component={'div'}>
             <ListItem button component={'a'} href={'/'}>
               <ListItemIcon>
                 <HomeIcon/>
               </ListItemIcon>
             </ListItem>
             <ListItem button component={'a'} href={'/user/1'}>
               <ListItemIcon>
                 <AccountCircle/>
               </ListItemIcon>
             </ListItem>
           </List>
         </Drawer>
      </div>
    )
  }
}

export default Menu;
